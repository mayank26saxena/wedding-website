{% extends "base.html" %}
{% block title %}Ananya & Mayank | Our Story{% endblock %}

{% block content %}
<style>
    .story-page-container {
        display: flex;
        flex-direction: column; /* Change to column on mobile */
        width: 100%;
        height: auto; /* Allow the container to adjust height based on content */
        overflow-y: auto; /* Enable vertical scrolling for the entire container */
        align-items: stretch; /* Make sure child items stretch to the same height */
        background: url('../static/images/backgrounds/background-2.png') no-repeat center center fixed;
        background-size: cover;
        backdrop-filter: blur(0px); /* Optional: adds a blur effect behind the text */
    }

    .polaroid .caption{
        font-weight: 100;
    }

    @media (min-width: 768px) {
        .story-page-container {
            flex-direction: row; /* Change to row on larger screens */
            height: 100vh; /* Ensure the container takes up the full viewport height on larger screens */
        }
    }

    .slideshow-container {
        flex: 1;
        position: relative;
        width: 100%;
        min-height: 50vh; /* Ensure the image container takes up the appropriate height on mobile */
        max-height: 500px;
        display: flex;
        align-items: center; /* Center the image */
        justify-content: center; /* Center the image */
        margin-bottom: 20px; /* Add margin to avoid overlap */
        margin-top: 20px; /* Add margin to avoid overlap */
    }

    @media (min-width: 768px) {
        .slideshow-container {
            max-width: 33%;
            height: 100%; /* Ensure the image container takes up the full height on larger screens */
            margin-bottom: 0; /* Remove bottom margin for larger screens */
            flex-direction: column;
            justify-content: flex-start; /* Center the image */
        }
    }

    /* Media query for iPhone 14 Pro (393x852) */
    @media screen and (min-width: 393px) and (max-width: 393px) and (max-height: 852px) {
        .slideshow-container {
            min-height: 60vh; /* Set the desired minimum height for iPhone 14 Pro */
        }

        .story-content {
            padding-top: 20px; /* Add padding to avoid overlap */
            margin-top: 20px; /* Ensure enough space between containers */
        }
    }


    /* Media query for iPhone SE (375x667) */
    @media screen and (min-width: 360px) and (max-width: 375px) and (max-height: 667px) {
        .slideshow-container {
            min-height: 70vh; /* Set the desired minimum height for iPhone SE */
        }
        .story-content {
            padding-top: 20px; /* Add padding to avoid overlap */
            margin-top: 20px; /* Ensure enough space between containers */
        }
    }

    /* Media query for iPhone XR (414x896) */
    @media screen and (min-width: 376px) and (max-width: 414px) and (max-height: 896px) {
        .slideshow-container {
            min-height: 52vh; /* Set the desired minimum height for iPhone XR */
            margin-top: 3vh;
        }
        .story-content {
            padding-top: 20px; /* Add padding to avoid overlap */
            margin-top: 20px; /* Ensure enough space between containers */
        }
    }

    /* Media query for iPhone 12 Pro (390x844) */
    @media screen and (min-width: 390px) and (max-width: 390px) and (max-height: 844px) {
        .slideshow-container {
            min-height: 45vh; /* Set the desired minimum height for iPhone 12 Pro */
            margin-top: 6vh;
        }
        .story-content {
            padding-top: 20px; /* Add padding to avoid overlap */
            margin-top: 20px; /* Ensure enough space between containers */
        }
    }

    /* Media query for iPhone 14 Pro Max (430x932) */
    @media screen and (min-width: 430px) and (max-width: 430px) and (max-height: 932px) {
        .slideshow-container {
            min-height: 50vh; /* Set the desired minimum height for iPhone 14 Pro Max */
            margin-top: 4vh;
        }
        .story-content {
            padding-top: 20px; /* Add padding to avoid overlap */
            margin-top: 10px; /* Ensure enough space between containers */
        }
    }

    /* Media query for Samsung Galaxy S8+ (360x740) */
    @media screen and (min-width: 360px) and (max-width: 360px) and (max-height: 740px) {
        .slideshow-container {
            min-height: 63vh; /* Set the desired minimum height for Samsung Galaxy S8+ */
        }
        .story-content {
            padding-top: 20px; /* Add padding to avoid overlap */
            margin-top: 20px; /* Ensure enough space between containers */
        }
    }

    .polaroid {
        background: #fff8e9; /* Yellowish tint with 80% opacity */
        padding: 10px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        text-align: center;
        width: 90%; /* Adjust the width of the polaroid */
        transition: opacity 2s ease-in-out; /* Slower fade transition */
        opacity: 0; /* Start slides as invisible */
        position: absolute;
    }

    .polaroid img {
        width: 100%;
        height: 400px; /* Fixed height for consistency */
        object-fit: contain;
        object-position: center; /* Center the image */
       /*border-bottom: 1px solid #ddd;*/
    }

    .polaroid .caption {
        margin-top: 10px;
        font-family: 'Quicksand', serif;
        font-size: 17px;
        font-weight: 100;
        color: #333;
    }

    .active-slide {
        opacity: 1; /* Fade in active slide */
    }

    .story-content {
        flex: 1;
        max-width: 100%;
        height: auto; /* Adjust height for mobile view */
        padding: 10px;
        display: flex;
        flex-direction: column;
        align-items: flex-start; /* Ensure content starts at the top */
        background-color: rgba(255, 255, 255, 0.2); /* White with 20% opacity */
        backdrop-filter: blur(0px); /* Optional: adds a blur effect behind the text */
        color: #333; /* Text color */
        border-radius: 8px; /* Optional: adds rounded corners */
    }

    @media (min-width: 768px) {
        .story-content {
            max-width: 67%;
            height: 100%; /* Ensure the content takes up the full height on larger screens */
            overflow-y: auto; /* Enable vertical scrolling for the content on larger screens */
            padding-top: 0; /* Remove padding for larger screens */
            margin-top:20px;
        }
    }

    .story-card {
        background-color: #fff8e9; /* White with 80% opacity */
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        margin-bottom: 20px;
        padding: 20px;
        width: 100%;
        box-sizing: border-box; /* Ensure padding doesn't cause overflow */
    }

    .story-content h2 {
        font-size: 2em;
        margin-bottom: 20px;
        font-weight: 200;
        width: 100%; /* Ensure the heading covers the full width */
        color: #d9534f; /* Updated color */
        font-family: 'Quicksand', serif; /* Updated font-family */
        text-transform: uppercase; /* Example text transformation */
        text-align: left; /* Left align the heading */
        margin: 0; /* Remove default margin */
        padding: 20px 10px 0px 0px;/* Add padding to the heading */
    }

    .story-item {
        margin-bottom: 20px;
        width: 100%; /* Ensure each story item covers the full width */
    }
    
</style>

<div class="story-page-container">
    <div class="slideshow-container">
        {% for i in range(1, captions|length + 1) %}
            <div class="polaroid {% if i == 1 %}active-slide{% endif %}">
                <img src="../static/images/our-story/timeline-{{ i }}.jpg" alt="Polaroid Image {{ i }}">
                <div class="caption">{{ captions[i-1] }}</div>
            </div>
        {% endfor %}
    </div>
    <div class="story-content">
        <div class="story-card">
            <h2 class="page-heading">Our Story</h2>
            <div class="story-item">
                <p>It was 2011 when Ananya and Mayank, longtime friends, said “yes” to a lifetime of adventure on a cold winter day.
                    From school to college, living minutes apart to moving cities, surviving the pandemic, and building their own home, they’ve grown together, making every moment count. </p>
                <p>Best friends first, their bond is so special that friends call them “Mayank Ananya” as if they come in a combo package. </p>
                <p>Ananya’s favorite thing about Mayank (and the list was long) is his smile and ever-positive attitude!
                    If you want a buddy for any adventure at all, Mayank’s your guy!</p>
                <p>Mayank’s favorite thing about Ananya is her kindness and the fact that she's always looking out for others.</p>
                <p>Some of their shared favorites (in no specific order): family, hiking, traveling,
                    navigating without Google Maps (and getting hilariously lost),
                    exploring new cuisines,
                    dancing like nobody’s watching (or even if they are),
                    binge-watching crime thrillers,
                    and planning spontaneous trips (avg planning time: <1 hr).</p>
            </div>
        </div>
        <div class="story-card">
            <h2 class="page-heading">The Proposal</h2>
            <div class="story-item">
                <p>Nothing short of a dream! Masai Mara was always on Ananya’s bucket list.
                    Those who know her, know her love for sunsets and animals, especially elephants.
                    With the help of their close friend Mandira, Mayank planned a breathtaking proposal right in the heart of the Mara.</p>
                <p>After a long day of safari, convincing Ananya to go out for the evening ride was a task.
                    As they spotted a pride of lions, the jeep arrived at a hill with a tent, bonfire, and live music.
                    Despite the cloudy day, the sky cleared just in time for a stunning sunset over the Mara.
                    The moment they stepped out, Mayank went down on one knee and popped the question.
                    She said “yes”! With tears of joy, they celebrated this new chapter as the sun set over the dreamy landscape.</p>
                <p>And in true Mayank style, he had more surprises lined up.
                    Back at their camp, he arranged a romantic treehouse dinner under the stars, complete with a short film with messages from their family.
                    The next days were filled with more safari adventures, celebrating their engagement.
                </p>
                <p>That magical day holds a special place in their hearts.
                    Dare you to ask them about it and they won't stop talking....
                </p>
            </div>
        </div>
    </div>
</div>

<script>
    // JavaScript for the slideshow
    let slideIndex = 0;
    const slides = document.getElementsByClassName('polaroid');
    const totalSlides = slides.length;

    function showSlides() {
        for (let i = 0; i < totalSlides; i++) {
            slides[i].classList.remove('active-slide');
        }
        slideIndex++;
        if (slideIndex > totalSlides) {
            slideIndex = 1;
        }
        slides[slideIndex - 1].classList.add('active-slide');
        setTimeout(showSlides, 3000); // Change image every 3 seconds
    }
    showSlides();
</script>
<script type="text/javascript">
    $(document).ready(function(){
        $('.slider').slick({
            infinite: true,
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: true,
            dots: true,
        });
    });
</script>
{% endblock %}